@page "/games/{id:int}"

<PageTitle>Blaze 4</PageTitle>

<div class="container">
    <main class="content">
        <!-- Title -->
        <h1 class="title">Blaze 4</h1>

        <!-- Game Board -->
        <GameBoard Board="board"
                   CellClicked="PlaceToken"
                   IsDarkTheme="isDarkTheme" />

        <!-- Current Player -->
        <p class="current-player">Current Player: <span>@currentPlayer</span></p>
    </main>
</div>


@code {

    [Parameter]
    public int Id { get; set; }

    private string[,] board = new string[6, 7]; // Board state
    private string currentPlayer = "Red"; // Current player's color
    private bool isDarkTheme = false; // Theme state

    private void PlaceToken(int col)
    {
        for (int row = 5; row >= 0; row--)
        {
            if (string.IsNullOrEmpty(board[row, col]))
            {
                board[row, col] = currentPlayer;
                currentPlayer = currentPlayer == "Red" ? "Yellow" : "Red"; // Switch player
                StateHasChanged();
                return;
            }
        }

        Console.WriteLine("Column is full!");
    }
}